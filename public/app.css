/* ── 0. DESIGN TOKENS ─────────────────────────────── */
body.app {
    --hdr-h: 3.75rem;
    --ftr-h: 3.125rem;
    --nav-w: 12.5rem;
    --asd-w: 12.5rem;
    --pad: 1rem;
    --dur: 200ms;
    --ease: ease;

    --border: hsl(0 0% 85%);
    background: Canvas;
    margin: 0;
    min-height: 100vh;
    position: relative;
}

/* Base state - all panels visible */
body.app {
    --off-hdr: var(--hdr-h);
    --off-ftr: var(--ftr-h);
    --off-nav: var(--nav-w);
    --off-asd: var(--asd-w);
}

/* Toggle states to hide panels */
body.app.header-closed {
    --off-hdr: 0;
}

body.app.footer-closed {
    --off-ftr: 0;
}

body.app.navbar-closed {
    --off-nav: 0;
}

body.app.aside-closed {
    --off-asd: 0;
}

/* ── 1. GRID LAYOUT ───────────────────────────────── */
body.app {
    display: grid;
    grid-template-areas:
        "header header header"
        "nav main aside"
        "footer footer footer";
    grid-template-rows: var(--off-hdr) 1fr var(--off-ftr);
    grid-template-columns: var(--off-nav) 1fr var(--off-asd);
    transition: grid-template-rows var(--dur) var(--ease),
        grid-template-columns var(--dur) var(--ease);
}

/* ── 2. HEADER & FOOTER ───────────────────────────── */
body.app>header {
    grid-area: header;
    background: inherit;
    z-index: 100;
    overflow: hidden;
}

body.app>footer {
    grid-area: footer;
    background: inherit;
    z-index: 100;
    overflow: hidden;
}

body.app>header[data-with-border] {
    border-block-end: 1px solid var(--border);
}

body.app>footer[data-with-border] {
    border-block-start: 1px solid var(--border);
}

/* ── 3. NAVBAR & ASIDE ────────────────────────────── */
body.app nav {
    grid-area: nav;
    background: inherit;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    z-index: 50;
}

body.app aside {
    grid-area: aside;
    background: inherit;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    z-index: 50;
}

body.app nav[data-with-border] {
    border-inline-end: 1px solid var(--border);
}

body.app aside[data-with-border] {
    border-inline-start: 1px solid var(--border);
}

/* ── 4. MAIN AREA ─────────────────────────────────── */
body.app main {
    grid-area: main;
    padding: var(--pad);
    overflow: auto;
}

/* ── 5. GROW SECTIONS ─────────────────────────────── */
body.app nav>section[data-grow],
body.app aside>section[data-grow] {
    flex: 1;
}